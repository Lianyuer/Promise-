<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /**
       *  async 函数的返回值为 promise 对象
       *  promise 对象的结果由 async 函数执行的返回值决定
       */

      // 和 Promise.prototype.then 的规则一样
      async function main() {
        /**
         *    1. 如果返回值是一个 非 Promise 类型的数据
         *    函数返回一个成功的 promise对象，结果是 521
         */
        // return 521;

        /**
         *    2.如果返回的是一个 Promise 对象
         *    函数返回的 Promise 结果和状态和 函数中 Promise 对象返回的结果和状态一致
         */
        // return new Promise((resolve, reject) => {
        //   // resolve("ok");
        //   reject("error");
        // });

        /**
         *    3.抛出异常
         *    函数返回的 Promise 结果为抛出的异常的内容，状态为 rejected
         */
        throw new Error("出错了");
      }

      let result = main();
      console.log(result);
    </script>
  </body>
</html>
