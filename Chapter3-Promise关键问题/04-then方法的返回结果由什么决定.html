<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /**
       *Promise.then()返回的新的Promise的结果状态由什么决定
       * (1) 简单表达:由 then() 指定的回调函数的执行结果决定
       * (2) 详细表达:
       *      (a) 如果抛出异常, 新Promise变为 rejected, reason 为抛出的异常
       *      (b) 如果返回的是非Promise类型的对象, 新Promise变为 resolved, value 为返回的对象
       *      (c) 如果返回的是另一个新Promise, 此Promise的结果就会成为新Promise的结果
       */
      let p = new Promise((resolve, reject) => {
        resolve("成功");
      });

      const result = p.then(
        (value) => {
          // console.log(value);
          // 1. 抛出错误
          // throw "err";
          // 2. 返回结果是 非Promise 类型的对象
          // return "hello";
          // 3. 返回结果是 Promise 对象
          return new Promise((resolve, reject) => {
            // resolve("123");
            reject(123);
          });
        },
        (err) => {
          console.log(err);
        }
      );
      console.log(result);
    </script>
  </body>
</html>
